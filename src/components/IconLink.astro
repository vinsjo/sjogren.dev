---
import type { HTMLAttributes } from 'astro/types';

export interface Props extends HTMLAttributes<'a'> {
  /**
   * @default target === '_blank' ? 'noreferrer noopener' : undefined
   */
  rel?: HTMLAttributes<'a'>['rel'];
}

const {
  target,
  rel,
  'class:list': classList,
  class: className,
  ...restProps
} = Astro.props;
---

<style>
  .icon-link {
    --hover-transform: scale(1.05);
    text-decoration: none;
    background-color: none;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 2rem;
    height: 2rem;
  }

  .icon-link svg {
    fill: currentColor;
    display: block;
    width: 100%;
    height: auto;
  }
</style>

<a
  target={target}
  rel={target === '_blank' ? 'noreferrer noopener' : rel}
  class:list={[
    [
      'icon-link',
      className,
      ...(Array.isArray(classList) ? classList : [classList]),
    ],
  ]}
  {...restProps}
>
  <slot />
</a>
